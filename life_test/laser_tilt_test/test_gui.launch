<launch>
  <param name="robot_description"
         command="$(find xacro)/xacro.py '$(find pr2_description)/robots/laser_tilt.urdf.xacro" />
  <include file="$(find life_test)/pr2_etherCAT.launch" />
  
  <!-- Laser Tilt Calibration -->
  <rosparam command="load"
            file="$(find pr2_default_controllers)/pr2_calibration_controllers.yaml" />
  <node pkg="mechanism_bringup" type="calibrate.py"
        args="cal_laser_tilt" output="screen" name="laser_tilt_cal" />

  <!-- Laser tilt controllers -->
  <node pkg="pr2_controller_manager" type="spawner.py" name="sled_spawner" 
        args="$(find pr2_default_controllers)/laser_tilt_controller.xml" />
  <node pkg="life_test" type="laser_traj_cmd.py"
        name="laser_cmder" args="laser_tilt_controller" />

  <!-- Monitor -->
  <node pkg="life_test" type="test_monitor.py" name="monitor" machine="test_host"> 
    <rosparam command="load" file="$(find life_test)/laser_tilt_test/laser_tilt_listeners.yaml" />
  </node>
</launch>

